<div
  *ngFor="let rectangle of rectangles"
  class="rect rect__{{ rectangle.name }}"
  cdkDrag
  ngcAngularCollision
  (rectangleChange)="handleRectChange($event, rectangle.name)"
>
  <span>Drag me</span>
  <ng-container
    *ngTemplateOutlet="
      positionTemplate;
      context: { $implicit: rectangle.position }
    "
  ></ng-container>
</div>

<ng-template #positionTemplate let-position>
  <div *ngIf="position">
    <div>X: {{ position.x | number: '1.0-0' }}px</div>
    <div>Y: {{ position.y | number: '1.0-0' }}px</div>
  </div>
</ng-template>
